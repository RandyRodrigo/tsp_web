<div class="relative w-auto max-w-[100vw] xl:h-full">
    <div class="inset-0 h-full z-10 m-auto flex flex-col items-center w-full">
        <img class="animated animatedFadeInUp fadeInUp absolute top-40 z-10 w-[700px] left-0 right-0 m-auto flex" alt="TspNegocios" src="/images/logoTSP.png"/>
        <video id="main-video" preload="metadata" playsinline class="video hidden h-[75vh] w-full object-cover object-top animate-duration-[2s] animate-ease-in-out animate-fade" src="/tsp.mp4" autoplay loop muted style="clip-path: polygon(0 0, 100% 0, 100% 85%, 50% 100%, 50% 100%, 0 85%);"></video>
    </div>
    <video
    class="video hidden absolute -bottom-18 -z-40 blur-3xl w-screen h-[60vh] object-cover object-top animate-duration-[2s] animate-ease-in-out"
    autoplay
    loop
    muted
    preload="metadata"
    src="/tsp.mp4"
  >
  </video>
</div>

<script>
    document.addEventListener("astro:page-load", () => {
      const firstVideo = document.querySelector("#main-video") as HTMLMediaElement
  
      if (firstVideo) {
        const videos = document.querySelectorAll(
          ".video"
        ) as NodeListOf<HTMLMediaElement>
  
        if (firstVideo.readyState >= 3) {
          videos.forEach((videoEl) => {
            videoEl.classList.remove("hidden")
            videoEl.classList.add("animate-fade")
          })
  
          return
        }
  
        firstVideo.addEventListener("loadeddata", () => {
          videos.forEach((videoEl) => {
            videoEl.classList.remove("hidden")
            videoEl.classList.add("animate-fade")
          })
        })
      }
    })
  </script>
  

